<div class="user-management-container">
  <h4>Create New User</h4>
  <form [formGroup]="createUserForm" (ngSubmit)="onCreateUser()" class="create-user-form">
    <div class="form-group">
      <label for="new-user-email">Email:</label>
      <input id="new-user-email" type="email" formControlName="email">
    </div>
    <div class="form-group">
      <label for="new-user-password">Password:</label>
      <input id="new-user-password" type="password" formControlName="password">
    </div>
    <button type="submit" class="button" [disabled]="!createUserForm.valid">Create User</button>
  </form>
  <div *ngIf="message" class="message">
    <p>{{ message }}</p>
  </div>

  <hr>

  <h4>Existing Users</h4>
  <table class="user-table">
    <thead>
      <tr>
        <th>Email</th>
        <th>Admin</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.email }}</td>
        <td>{{ user.is_admin ? 'Yes' : 'No' }}</td>
        <td>
          <button class="button" (click)="onEditUser(user)">Edit</button>
          <button class="button button-danger" (click)="onDeleteUser(user.id)" [disabled]="user.is_admin">Delete</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>